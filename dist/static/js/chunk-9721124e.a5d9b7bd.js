(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9721124e"],{"52b5":function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return l}));var n=r("b775");function a(e){return Object(n["a"])({url:"/classify/add-classify",method:"post",data:e})}function i(){return Object(n["a"])({url:"/classify/get-classify-list",method:"get"})}function l(e){return Object(n["a"])({url:"/classify/alter-classify",method:"put",data:e})}},bf84:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-row",[r("el-col",{attrs:{span:24}},[r("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){e.dialogVisible=!e.dialogVisible}}},[e._v("添加分类")])],1)],1),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[r("el-table-column",{attrs:{prop:"_id",label:"ID",width:"300"}}),e._v(" "),r("el-table-column",{attrs:{prop:"name",label:"分类名称",width:"300"}}),e._v(" "),r("el-table-column",{attrs:{prop:"genre",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(e._f("typeFilter")(t.row.genre)))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(r){return e.handleEdit(t.row)}}},[e._v("编辑")])]}}])})],1),e._v(" "),r("el-dialog",{attrs:{title:"添加/编辑分类",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"分类名称",prop:"name"}},[r("el-input",{attrs:{placeholder:"请输入分类名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"类型",prop:"genre"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择类型"},model:{value:e.form.genre,callback:function(t){e.$set(e.form,"genre",t)},expression:"form.genre"}},[r("el-option",{attrs:{label:"技术",value:1}}),e._v(" "),r("el-option",{attrs:{label:"生活",value:2}})],1)],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit("ruleForm")}}},[e._v("提 交")])],1)],1)],1)},a=[],i=(r("96cf"),r("1da1")),l=r("52b5"),s={name:"",genre:""},o={data:function(){return{dialogVisible:!1,form:Object.assign({},s),tableData:[],rules:{name:[{required:!0,message:"请输入分类名称",trigger:"blur"}],genre:[{required:!0,message:"请选择类型",trigger:"blur"}]}}},created:function(){this.getAllClassify()},filters:{typeFilter:function(e){switch(e){case 1:return"技术";case 2:return"生活";default:return"未知"}}},methods:{handleClose:function(e){e()},handleEdit:function(e){this.dialogVisible=!this.dialogVisible,this.form=e},submit:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=13;break}if(!t.form._id){e.next=7;break}return e.next=4,t.alterClassify();case 4:t.form=Object.assign({},s),e.next=9;break;case 7:return e.next=9,t.addClassify();case 9:t.dialogVisible=!t.dialogVisible,t.getAllClassify(),e.next=15;break;case 13:return console.log("error submit!!"),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},addClassify:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["a"])(this.form);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllClassify:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["c"])();case 2:t=e.sent,r=t.data,this.tableData=r;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),alterClassify:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["b"])(this.form);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},u=o,c=r("2877"),f=Object(c["a"])(u,n,a,!1,null,null,null);t["default"]=f.exports}}]);